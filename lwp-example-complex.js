var isJustArithmetic,mightBeAName;setAppName("ComplexApp"),addHelpMenuSourceCodeLink("app/complex-example-solo.litcoffee"),window.helpAboutText='<p>See the fully documented <a target="top" href="https://github.com/nathancarter/weblurch/blob/master/app/complex-example-solo.litcoffee" >source code for this demo app</a>.</p>',window.groupTypes=[{name:"computation",text:"Computation group",tooltip:"Make selection a computation",color:"#996666",imageHTML:'<font color="#996666"><b>[ ]</b></font>',openImageHTML:'<font color="#996666"><b>[</b></font>',closeImageHTML:'<font color="#996666"><b>]</b></font>',tagContents:function(t){var e;return null!=(e=t.contentAsText())&&isJustArithmetic(e)?"arithmetic expression":"unknown"},contentsChanged:function(t,e){if(!t.doNotEvaluateAgain)return t.set("closeDecoration",'<font color="#999999">...</font>'),Background.addTask("do arithmetic",[t],function(e){var o;if(!t.deleted&&null!=e)return o=(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),o='<font color="#009900">='+o+"</font>",t.doNotEvaluateAgain=!0,t.set("closeDecoration",o),t.doNotEvaluateAgain=!1})}},{name:"words",text:"Group of words",tooltip:"Make selection about words",color:"#669966",imageHTML:'<font color="#669966"><b>( )</b></font>',openImageHTML:'<font color="#669966"><b>(</b></font>',closeImageHTML:'<font color="#669966"><b>)</b></font>',tagContents:function(t){return mightBeAName(t.contentAsText())},tagMenuItems:function(t){return[{text:"Why this tag?",onclick:function(){return alert("This group was classified as '"+mightBeAName(t.contentAsText())+"' for the following reason:\nText 'might be a name' if it has one to three words, all capitalized.  Otherwise, it is 'probably not a name.'")}},{text:"Change this into a name",onclick:function(){return t.setContentAsText("Rufus Dimble")}},{text:"Change this into a non-name",onclick:function(){return t.setContentAsText("corn on the cob")}}]},contextMenuItems:function(t){return[{text:"Count number of letters",onclick:function(){return alert("Number of letters: "+t.contentAsText().length+"\n(includes spaces and punctuation)")}},{text:"Count number of words",onclick:function(){return alert("Number of words: "+t.contentAsText().split(" ").length+" \n(counts any sequence of non-spaces as a word)")}}]}}],isJustArithmetic=function(t){return/^[.0-9+*\/ ()-]+$/.test(t)},Background.registerFunction("do arithmetic",function(group){var e,result,whenToStop;for(whenToStop=(new Date).getTime()+1e3;(new Date).getTime()<whenToStop;)result=function(){if(null==group.text||!isJustArithmetic(group.text))return"???";try{return eval(group.text)}catch(t){return e=t,"???"}}();return result},{isJustArithmetic:isJustArithmetic}),mightBeAName=function(t){var e,o,n,r;if(null==(r=t.split(" "))||r.length>3||0===r.length)return"probably not a name";for(e=0,o=r.length;e<o;e++)if(null==(n=r[e])[0]||n[0].toUpperCase()!==n[0])return"probably not a name";return"might be a name"};
//# sourceMappingURL=lwp-example-complex.js.map
